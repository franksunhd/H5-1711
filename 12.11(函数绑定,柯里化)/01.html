<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>函数绑定</title>
  </head>
  <body>
    <button id="btn1" type="button" name="button">点击1</button>
    <button id="btn2" type="button" name="button">点击2</button>
    <script type="text/javascript">
      var btn1 = document.getElementById('btn1');
      var btn2 = document.getElementById('btn2');

      btn1.value = 1000;
      btn2.value = 10000;

      var value = 10;

      var obj = {
        value : 100
      }

      function handler(arg1,arg2) {
        console.log("this.value = ",this.value);
        console.log("arg1 = ",arg1);
        console.log("arg2 = ",arg2);
      }

      // fun1 是bind返回的新函数
      var fun1 = handler.bind(obj,10,20);

      fun1(); // 100 10 20
      handler(20,30);  // 10 20 30

      /*
        函数一旦bind成功，那么从此以后返回的新函数的this就已经固定了
        在任何位置调用该函数，this都不会变
      */

      btn1.addEventListener('click',fun1,false); // 100 10 20
      btn2.addEventListener('click',fun1,false); // 100 10 20
    </script>
  </body>
</html>
